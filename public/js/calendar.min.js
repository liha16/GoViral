let VanillaCalendar=function(){return function(e){function t(e,t,a){e&&(e.attachEvent?e.attachEvent("on"+t,a):e.addEventListener(t,a))}function a(e,t,a){e&&(e.detachEvent?e.detachEvent("on"+t,a):e.removeEventListener(t,a))}let n={name:null,selector:null,datesFilter:!1,pastDates:!1,availableWeekDays:[],availableDates:[],date:new Date,todaysDate:new Date,button_prev:null,button_next:null,month:null,month_label:null,onSelect:(e,t)=>{},months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortWeekday:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};for(let t in e)n.hasOwnProperty(t)&&(n[t]=e[t]);let l=document.querySelector(n.selector);if(!l)return;const d=function(e){let t=document.createElement("div"),a=document.createElement("span");a.innerHTML=e.getDate(),t.className="vanilla-calendar-date",t.setAttribute("data-calendar-date",e);let l=n.availableWeekDays.filter(t=>t.day===e.getDay()||t.day===function(e){return["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e]}(e.getDay())),d=n.availableDates.filter(t=>t.date===e.getFullYear()+"-"+String(e.getMonth()+1).padStart("2",0)+"-"+String(e.getDate()).padStart("2",0));1===e.getDate()&&(t.style.marginLeft=14.28*e.getDay()+"%"),n.date.getTime()<=n.todaysDate.getTime()-1&&!n.pastDates?t.classList.add("vanilla-calendar-date--disabled"):n.datesFilter?l.length?(t.classList.add("vanilla-calendar-date--active"),t.setAttribute("data-calendar-data",JSON.stringify(l[0])),t.setAttribute("data-calendar-status","active")):d.length?(t.classList.add("vanilla-calendar-date--active"),t.setAttribute("data-calendar-data",JSON.stringify(d[0])),t.setAttribute("data-calendar-status","active")):t.classList.add("vanilla-calendar-date--disabled"):(t.classList.add("vanilla-calendar-date--active"),t.setAttribute("data-calendar-status","active")),e.toString()===n.todaysDate.toString()&&t.classList.add("vanilla-calendar-date--today"),t.appendChild(a),n.month.appendChild(t)},r=function(){l.querySelectorAll("[data-calendar-status=active]").forEach(e=>{e.addEventListener("click",function(){console.log(n.selector+" .vanilla-calendar-date--selected"),document.querySelectorAll(n.selector+" .vanilla-calendar-date--selected").forEach(e=>{e.classList.remove("vanilla-calendar-date--selected")});let e=this.dataset,t={};e.calendarDate&&(t.date=e.calendarDate),e.calendarData&&(t.data=JSON.parse(e.calendarData)),n.onSelect(t,this),this.classList.add("vanilla-calendar-date--selected"),s(t.date)})})},s=function(e,t){document.querySelector("#"+n.name+"date").value=e},c=function(){u();let e=n.date.getMonth();for(;n.date.getMonth()===e;)d(n.date),n.date.setDate(n.date.getDate()+1);n.date.setDate(1),n.date.setMonth(n.date.getMonth()-1),n.month_label.innerHTML=n.months[n.date.getMonth()]+" "+n.date.getFullYear(),r()},o=function(){n.date.setMonth(n.date.getMonth()-1),c()},i=function(){n.date.setMonth(n.date.getMonth()+1),c()},u=function(){n.month.innerHTML=""};this.init=function(){document.querySelector(n.selector).innerHTML='\n            <div class="vanilla-calendar-header">\n                <button type="button" class="vanilla-calendar-btn" data-calendar-toggle="previous"><svg height="24" version="1.1" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"></path></svg></button>\n                <div class="vanilla-calendar-header__label" data-calendar-label="month"></div>\n                <button type="button" class="vanilla-calendar-btn" data-calendar-toggle="next"><svg height="24" version="1.1" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"></path></svg></button>\n            </div>\n            <div class="vanilla-calendar-week"></div>\n            <div class="vanilla-calendar-body" data-calendar-area="month"></div>\n            ',n.button_prev=document.querySelector(n.selector+" [data-calendar-toggle=previous]"),n.button_next=document.querySelector(n.selector+" [data-calendar-toggle=next]"),n.month=document.querySelector(n.selector+" [data-calendar-area=month]"),n.month_label=document.querySelector(n.selector+" [data-calendar-label=month]"),n.date.setDate(1),c(),document.querySelector(`${n.selector} .vanilla-calendar-week`).innerHTML=`\n                <span>${n.shortWeekday[0]}</span>\n                <span>${n.shortWeekday[1]}</span>\n                <span>${n.shortWeekday[2]}</span>\n                <span>${n.shortWeekday[3]}</span>\n                <span>${n.shortWeekday[4]}</span>\n                <span>${n.shortWeekday[5]}</span>\n                <span>${n.shortWeekday[6]}</span>\n            `,t(n.button_prev,"click",o),t(n.button_next,"click",i)},this.destroy=function(){a(n.button_prev,"click",o),a(n.button_next,"click",i),u(),document.querySelector(n.selector).innerHTML=""},this.reset=function(){this.destroy(),this.init()},this.set=function(e){for(let t in e)n.hasOwnProperty(t)&&(n[t]=e[t]);c()},this.init()}}();window.VanillaCalendar=VanillaCalendar;